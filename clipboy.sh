#!/bin/bash
## clipboy
## - reads from clipboard and does things
## version 0.0.2 - clipboy dialog
##################################################
. ${SH2}/error.sh		# error handling
error "true"			# show errors
. ${SH2}/cecho.sh		# colored echo
. ${SH2}/aliases/commands.sh	# commands
##################################################
generate-temp() { ${SH2}/generate-temp.sh ${@} ; }
##################################################
_cleanup() {
  cecho yellow $( rm -rvf ${temp}-* )
}
temp= 
initialize() {
 temp=$( 
  generate-temp 
 )
 touch "${temp}-test"
}
clipboy-say() {
 cecho green "${@}"
}
clipboy-stretch() {
 clipboy-say $( clipboy-dialog stretch )
 touch "${temp}-clipboard"
 sleep 3
 clipboy-say "Me's stetchy!"
}
clipboy-run() {
 clipboy-say $( clipboy-dialog hi )
 clipboy-stretch
 sleep 2
 while [ ! ]
 do
  clipboy-eat
  clipboy-think
  ################################################
  ## =todo=
  ## + add payload here
  ################################################
  #read
  #break
  clipboy-sleep
  ################################################
 done
 clipboy-say $( clipboy-dialog bye )
}
clipboy-eat() {
  clipboy-say $( clipboy-dialog hungry )
  {
    cat /dev/clipboard > ${temp}-infile
  } 1>/dev/null
  clipboy-say $( clipboy-dialog delicious )
}
clipboy-think() {
  clipboy-say $( clipboy-dialog thinking )
  ################################################
  ## =todo=
  ## + add some decision making here
  ################################################
  {
    {
      diff ${temp}-{clipboard,infile} || true
    } | head -n 3 
  } 1>/dev/null
  ################################################
}
clipboy-sleep() {
 clipboy-say $( clipboy-dialog sleepy )
 sleep 5
}
##################################################
## =notes=
## + add extra dialogs here
##################################################
clipboy-dialog-hi() {
 echo "Hey!"
}
clipboy-dialog-bye() {
 echo "Bye!"
}
clipboy-dialog-stretch() {
 echo "Me's stretch first.."
}
clipboy-dialog-hungry() {
 echo "Me's hungry ..."
}
clipboy-dialog-delicious() {
 echo "Um.. Um.. Yummy!"
}
clipboy-dialog-thinking() {
 echo "Me's thinking..."
}
clipboy-dialog-sleepy() {
 echo "Me's sleepy..."
}
clipboy-dialog() {
 commands
}
##################################################
clipboy() {
 initialize
 commands
}
##################################################
if [ ! ] 
then
 true
else
 exit 1 # wrong args
fi
##################################################
clipboy ${@}
##################################################
## generated by create-stub2.sh v0.1.1
## on Thu, 08 Nov 2018 12:51:06 +0900
## see <https://github.com/temptemp3/sh2>
##################################################
